ACCION EJ_PILA ES
    Ambiente
        Nodo = Registro
            Dato : N(8)
            prox : Puntero a Nodo
        Fin_Registro

        Tope, P : Puntero a Nodo
        sel : N(1)
        valaux : N(8)
    Fin_Ambiente

    Procedimiento ERROR(err : AN(80)) ES
        ESC("ERROR: " + err)
    Fin_Procedimiento

    Procedimiento PUSH ES
        ESC("Ingrese el valor a apilar")
        LEER(valaux)
        NUEVO(P)
        *P.Dato := valaux
        *P.prox := Tope
        Tope := P
        ESC("Apilado: " + valaux)
    Fin_Procedimiento

    Procedimiento POP ES
        Si Tope = NIL ENTONCES
            ERROR("Pila vacía")
        Sino
            P := Tope
            Tope := *Tope.prox
            ESC("Desapilado: " + *P.Dato)
            DISPONER(P)
        Fin_Si
    Fin_Procedimiento

    Proceso
        ESC("Seleccione una acción 1-PUSH, 2-POP")
        LEER(sel)
        SEGUN sel HACER
            = 1:
                PUSH
            = 2:
                POP
            otros:
                ERROR("Opción inválida")
        FIN_SEGUN
    Fin_Proceso
FIN_ACCION