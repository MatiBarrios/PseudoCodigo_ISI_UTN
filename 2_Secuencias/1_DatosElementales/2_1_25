ACCION Eje_2_1_25 ES
    Ambiente
        Sec_Entrada, Sec_Salida : Secuencia de Caracter
        car: Caracter
        Sec_Vocal : Secuencia de Entero
        cont_pal, cont_oracion: Entero
        prom_pal : Real

        PROCEDIMIENTO BARRER_SECUENCIA ES
            MIENTRAS NFDS(Sec_Entrada) HACER
                TRATAR_ESPACIOS
                TRATAR_PALABRA
                TRATAR_ORACION
            FIN_MIENTRAS
        FIN_PROCEDIMIENTO

        PROCEDIMIENTO TRATAR_ESPACIOS ES
            MIENTRAS NFDS(Sec_Entrada) y car = ' ' HACER
                AVZ(Sec_Entrada, car)
            FIN_MIENTRAS
        FIN_PROCEDIMIENTO

        FUNCION EsVocal(c : Caracter):Logico ES
            SEGUN c HACER
                ='a':
                    EsVocal := Verdadero
                ='e':
                    EsVocal := Verdadero
                ='i':
                    EsVocal := Verdadero
                ='o':
                    EsVocal := Verdadero
                ='u': 
                    EsVocal := Verdadero
                otros:
                    EsVocal := Falso
            FIN_SEGUN
        FIN_FUNCION

        PROCEDIMIENTO TRATAR_PALABRA ES
            Ambiente Local
                aux : Caracter    
                vocal_pal : Entero
            Proceso

                SI NFDS(Sec_Entrada) y EsVocal(car) ENTONCES
                    vocal_pal := 0

                    MIENTRAS NFDS(Sec_Entrada) y car <> '.' y car <> ' ' HACER
                        SI EsVocal(car) ENTONCES
                            aux := '#'
                            vocal_pal:= vocal_pal + 1
                        SINO
                            aux := car
                        FIN_SI
                        GRABAR(Sec_Salida, aux)
                        AVZ(Sec_Entrada, car)
                    FIN_MIENTRAS
                    cont_pal := cont_pal + 1
                    GRABAR(Sec_Vocal, vocal_pal)
                SINO
                    MIENTRAS NFDS(Sec_Entrada) y car <> '.' y car <> ' ' HACER
                        AVZ(Sec_Entrada, car)
                    FIN_MIENTRAS
                    cont_pal := cont_pal + 1
                FIN_SI
        FIN_PROCEDIMIENTO

        PROCEDIMIENTO TRATAR_ORACION ES
            SI NFDS(Sec_Entrada) y car = '.' ENTONCES
                cont_oracion := cont_oracion + 1
                AVZ(Sec_Entrada, car)
            FIN_SI
        FIN_PROCEDIMIENTO

        PROCEDIMIENTO OPERAR ES
            prom_pal := cont_pal / cont_oracion
        FIN_PROCEDIMIENTO

        PROCEDIMIENTO MOSTRAR_RESULTADOS ES
            ESCRIBIR("El promedio de palabras por oraci√≥n es: ", prom_pal)
        FIN_PROCEDIMIENTO

        PROCEDIMIENTO INICIALIZAR ES
            ARR(Sec_Entrada)
            CREAR(Sec_Salida)
            CREAR(Sec_Vocal)

            cont_pal := 0
            cont_oracion := 0

            AVZ(Sec_Entrada, car)
        FIN_PROCEDIMIENTO

        PROCEDIMIENTO FINALIZAR ES
            CERRAR(Sec_Entrada)
            CERRAR(Sec_Salida)
            CERRAR(Sec_Vocal)
        FIN_PROCEDIMIENTO
    Proceso
        INICIALIZAR
        BARRER_SECUENCIA
        OPERAR
        MOSTRAR_RESULTADOS
        FINALIZAR
FIN_ACCION