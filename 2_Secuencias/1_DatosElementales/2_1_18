ACCION Eje_2_1_18 ES
    Ambiente
        Sec_Entrada, Sec_Salida: Secuencia de Caracter
        car : Caracter
        par: Entero

        PROCEDIMIENTO BARRER_SECUENCIA ES
            MIENTRAS NFDS(Sec_Entrada) HACER
                TRATAR_ESPACIOS
                TRATAR_PALABRA
            FIN_MIENTRAS
        FIN_PROCEDIMIENTO

        PROCEDIMIENTO TRATAR_PALABRA ES
            SI car = 'M' y (par MOD 2 = 0) ENTONCES
                GRABAR_PALABRA
            FIN_SI

            MIENTRAS NFDS(Sec_Entrada) y car <> ' ' HACER
                AVZ(Sec_Entrada, car)
            FIN_MIENTRAS

            par := par + 1
        FIN_PROCEDIMIENTO

        PROCEDIMIENTO GRABAR_PALABRA ES
            MIENTRAS NFDS(Sec_Entrada) y car <> ' ' HACER
                GRABAR(Sec_Salida, car)
                AVZ(Sec_Entrada, car)
            FIN_MIENTRAS
            GRABAR(Sec_Salida, ' ')
        FIN_PROCEDIMIENTO

        PROCEDIMIENTO TRATAR_ESPACIOS ES
            MIENTRAS NFDS(Sec_Entrada) y car = ' ' HACER
                AVZ(Sec_Entrada, car)
            FIN_MIENTRAS
        FIN_PROCEDIMIENTO

        PROCEDIMIENTO INICIALIZAR ES
            ARR(Sec_Entrada)
            AVZ(Sec_Entrada, car)
            CREAR(Sec_Salida)

            par := 1
        FIN_PROCEDIMIENTO

        PROCEDIMIENTO FINALIZAR ES
            CERRAR(Sec_Entrada)
            CERRAR(Sec_Salida)
        FIN_PROCEDIMIENTO
    Proceso
        
        INICIALIZAR
        BARRER_SECUENCIA
        FINALIZAR
FIN_ACCION